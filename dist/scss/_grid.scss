/* BRICKst - grid */

.row { // shamelessly inspired by Foundation
  width: 100%; max-width: $row-width; margin: 0 auto;
  &:after { clear: both; content: " "; display: table; }
  &.expand { max-width: 100%; }
  &.collapse .column,
  &.collapse .columns { padding: 0; }
  &.narrow .column,
  &.narrow .columns { padding: 0 ($gutter-width / 2); }
}
.column,
.columns {
  float: left;
  width: 100%; padding: 0 $gutter-width;
  position: relative;
  &.end { float: right; }
}

// Small Grid
@for $i from 1 through 11 {
  .small-#{$i} { width: 100% / 12 * $i; }
}

.small-centered { float: none; margin: 0 auto; }
.small-uncentered { float: left; margin: 0; }


// Block grid (https://css-tricks.com/attribute-selectors/)
[class*="block-grid"] {
  @extend %clearfix;
  margin: 0 (-$block-grid-spacing); padding: 0;
  & > * { display: block; float: left; padding: 0 $block-grid-spacing; }
}
@for $i from 1 through 8 {
  .small-block-grid-#{$i} > * {
    width: (100% / $i);
    &:nth-of-type(2n+#{$i}) { clear: both; }
  }
}


// Medium Grid
@include break(m) {
  [class*="large-"] { width: 100%; }

  @for $i from 1 through 11 {
    .medium-#{$i} { width: (100% / 12 * $i); }
  }

  .medium-centered { float: none; margin: 0 auto; }
  .medium-uncentered { float: left; margin: 0; }

  // reset clearfixes from smaller grids
  [class*="small-block-grid"][class*="medium-block-grid"] > * { clear: none; }

  @for $i from 1 through 8 {
    .medium-block-grid-#{$i} > * {
      width: (100% / $i);
      &:nth-of-type(2n+#{$i}) { clear: both; }
    }
  }
}


// Large Grid
@include break(l) {
  @for $i from 1 through 11 {
    .large-#{$i} { width: (100% / 12 * $i); }
  }

  .large-centered { float: none; margin: 0 auto; }
  .large-uncentered { float: left; margin: 0; }

  // reset clearfixes from smaller grids
  [class*="small-block-grid"][class*="large-block-grid"] > * { clear: none; }
  [class*="medium-block-grid"][class*="large-block-grid"] > * { clear: none; }

  @for $i from 1 through 8 {
    .large-block-grid-#{$i} > * {
      width: (100% / $i);
      &:nth-of-type(2n+#{$i}) { clear: both; }
    }
  }
}